<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RUSH MOTO | 極速改裝精品</title>
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@500;700&family=Noto+Sans+TC:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

    <div id="preloader">
        <div class="loader-content">
            <div class="loader-logo">RUSH<span>MOTO</span></div>
            <div class="loader-bar"></div>
        </div>
    </div>

    <div id="toast-container"></div>

    <nav class="navbar">
        <div class="nav-top">
            <div class="container">
                <a href="index.html" class="logo">RUSH<span>MOTO</span></a>
                
                <div class="user-actions">
                    <div id="user-menu"></div>
                    
                    <div class="cart-icon" id="open-cart">
                        <div class="btn-cart-style">
                            <span id="cart-target">購物車</span>
                            <span id="cart-count">0</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="nav-bottom">
            <div class="container">
                <ul class="nav-links">
                    <li><a href="#events" style="color: #ff3e3e; font-weight: bold;">最新活動</a></li>
                    <li><a href="#" class="nav-cat" data-filter="all">全部一覽</a></li>
                    <li><a href="#" class="nav-cat" data-filter="exhaust">排氣管</a></li>
                    <li><a href="#" class="nav-cat" data-filter="brake">煞車制動</a></li>
                    <li><a href="#" class="nav-cat" data-filter="suspension">懸吊系統</a></li>
                    <li><a href="#" class="nav-cat" data-filter="package">動力升級</a></li>
                    <li><a href="#" class="nav-cat" data-filter="lighting">燈系全套</a></li>
                    <li><a href="#" class="nav-cat" data-filter="exterior">外觀升級</a></li>
                    <li><a href="#" class="nav-cat" data-filter="accessories">質感小物</a></li>
                    <li><a href="#contact">預約諮詢服務</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <header class="hero-slider" id="home">
        <div class="slides">
            <div class="slide active">
                <img src="https://images.unsplash.com/photo-1558981806-ec527fa84c39?w=1600" alt="Slider 1">
                <div class="hero-content">
                    <h1>打造專屬於你的<span>速可達</span></h1>
                    <p>提升性能與美感的終極選擇</p>
                    <a href="#events" class="btn-cta">活動詳情</a>
                </div>
            </div>
            <div class="slide">
                <img src="image/排氣管.jpg" alt="Slider 2" onerror="this.src='https://images.unsplash.com/photo-1611082596851-93375f922767?w=1600'">
                <div class="hero-content">
                    <h1>極致性能<span>動力升級</span></h1>
                    <p>專業鈦合金排氣系統，釋放引擎潛能</p>
                    <a href="#events" class="btn-cta">查看活動</a>
                </div>
            </div>
            <div class="slide">
                <img src="https://images.unsplash.com/photo-1599819811279-d5ad9cccf838?w=1600" alt="Slider 3">
                <div class="hero-content">
                    <h1>操控至上<span>懸吊系統</span></h1>
                    <p>氮氣掛瓶避震，穩定應對各種路況</p>
                    <a href="#events" class="btn-cta">了解優惠</a>
                </div>
            </div>
        </div>
        <div class="slider-dots">
            <span class="dot active"></span>
            <span class="dot"></span>
            <span class="dot"></span>
        </div>
    </header>

    <main class="container">
        <section id="events" class="events-section">
            <h2 class="section-title">最新活動資訊</h2>
            <div class="events-grid">
                <div class="event-card reveal">
                    <div class="event-img"><img src="https://images.unsplash.com/photo-1558981806-ec527fa84c39?w=500" alt="Event 1"></div>
                    <div class="event-content">
                        <span class="event-date">2026.01.01 - 2026.02.28</span>
                        <h3>新手改裝・制動升級專案</h3>
                        <p>購買任一款 Brembo 卡鉗，即贈送金屬油管一條，並享有免費安裝服務。</p>
                        <a href="#products" class="btn-event" onclick="triggerFilter('brake')">選購煞車</a>
                    </div>
                </div>
                <div class="event-card reveal">
                    <div class="event-img"><img src="image/排氣管.jpg" alt="Event 2" onerror="this.src='https://images.unsplash.com/photo-1611082596851-93375f922767?w=500'"></div>
                    <div class="event-content">
                        <span class="event-date">2026.01.15 - 2026.03.01</span>
                        <h3>聲浪覺醒・排氣管舊換新</h3>
                        <p>持任一品牌舊管來店升級「Moto R」或「章魚280」，最高現折 $3,000 元。</p>
                        <a href="#products" class="btn-event" onclick="triggerFilter('exhaust')">選購排氣管</a>
                    </div>
                </div>
                <div class="event-card reveal">
                    <div class="event-img"><img src="https://images.unsplash.com/photo-1599819811279-d5ad9cccf838?w=500" alt="Event 3"></div>
                    <div class="event-content">
                        <span class="event-date">長期活動</span>
                        <h3>懸吊健檢・免費調教</h3>
                        <p>凡購買避震器，終身享有免費回店調教服務（預載、阻尼設定）。</p>
                        <a href="#products" class="btn-event" onclick="triggerFilter('suspension')">選購避震</a>
                    </div>
                </div>
            </div>
        </section>

        <section id="shop-start" class="shop-section">
            <div class="section-header-center">
                <h2 class="section-title">熱門改裝精品</h2>
                
                <div class="product-controls" style="
                    display: flex; 
                    justify-content: center; 
                    align-items: center; 
                    gap: 15px; 
                    flex-wrap: wrap; 
                    margin-top: 20px;
                    width: 100%;
                ">
                    <input type="text" id="product-search" class="control-style" placeholder="搜尋商品名稱..." style="padding-left: 15px;">

                    <select id="sort-select" onchange="handleSort()" class="control-style">
                        <option value="default">預設排序</option>
                        <option value="price-low">💰 價格：低 ⮕ 高</option>
                        <option value="price-high">💎 價格：高 ⮕ 低</option>
                    </select>
                </div>
            </div>
            <div id="all-products-container"></div>
        </section>

        <section id="contact" class="contact-section">
            <h2 class="section-title">預約諮詢服務</h2>
            <form id="contact-form" class="contact-form" onsubmit="submitContact(event)">
                <div class="form-group"><input type="text" id="contact-name" placeholder="您的姓名" required></div>
                <div class="form-group"><input type="email" id="contact-email" placeholder="電子郵件" required></div>
                <textarea id="contact-message" rows="4" placeholder="請描述您的車種與改裝需求..."></textarea>
                <button type="submit" class="btn-submit">送出訊息</button>
                <p id="form-status"></p>
            </form>
        </section>
    </main>

    <div class="modal" id="product-detail-modal">
        <div class="modal-content detail-content">
            <span class="close-modal" id="close-detail" style="font-size:2rem; line-height:1;">&times;</span>
            <div class="detail-layout">
                <div class="detail-img-box">
                    <img id="detail-img" src="" alt="商品圖片">
                </div>
                <div class="detail-info-box">
                    <span id="detail-tag" class="tag">分類</span>
                    <h2 id="detail-title">商品名稱</h2>
                    <p id="detail-desc" class="detail-desc">詳細說明...</p>
                    <div class="detail-footer">
                        <span id="detail-price" class="price">NT$ 0</span>
                        <button id="detail-add-btn" class="btn-add">加入購物車</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="cart-modal">
        <div class="modal-content">
            <span class="close-modal" id="close-cart" style="font-size:2rem; line-height:1;">&times;</span>
            <h2>您的購物清單</h2>
            <ul id="cart-items"></ul>
            <div class="cart-total">總計: NT$ <span id="total-price">0</span></div>
            <div class="cart-actions">
                <button class="btn-clear" id="clear-cart">清空</button>
                <button class="btn-checkout" id="btn-checkout">前往結帳</button>
            </div>
        </div>
    </div>

    <div class="modal" id="auth-modal">
        <div class="modal-content auth-content">
            <span class="close-modal" id="close-auth" style="font-size:2rem; line-height:1;">&times;</span>
            <form id="login-form">
                <h2>會員登入</h2>
                <div class="form-group">
                    <label>您的稱呼</label>
                    <input type="text" id="login-user">
                </div>
                <div class="form-group">
                    <label>密碼</label>
                    <input type="password" id="login-pass">
                </div>
                <button type="submit" class="btn-submit">立即登入</button>
            </form>
            <form id="register-form" style="display: none;">
                <h2>會員註冊</h2>
                <div class="form-group">
                    <label>設定帳號</label>
                    <input type="text" id="reg-user" required>
                </div>
                <div class="form-group">
                    <label>設定密碼</label>
                    <input type="password" id="reg-pass" required>
                </div>
                <button type="submit" class="btn-submit">完成註冊</button>
                <p style="text-align:center; margin-top:15px; cursor:pointer; color:var(--primary);" onclick="switchAuth('login')">已有帳號？返回登入</p>
            </form>
            <p id="to-reg" style="text-align:center; margin-top:15px; cursor:pointer; color:var(--primary);" onclick="switchAuth('register')">還沒帳號？點此註冊</p>
        </div>
    </div>

    <div class="modal" id="admin-modal">
        <div class="modal-content admin-content" style="max-width: 800px;">
            <span class="close-modal" id="close-admin" style="font-size:2rem; line-height:1;">&times;</span>
            <h2>🔧 管理者後台</h2>
            <div style="margin-top:20px;">
                <h3>📩 諮詢留言板</h3>
                <table style="width:100%; margin-top:10px; border-collapse: collapse;">
                    <thead>
                        <tr style="background:#333; color:white; text-align:left;">
                            <th style="padding:10px;">時間</th>
                            <th style="padding:10px;">姓名</th>
                            <th style="padding:10px;">內容</th>
                            <th style="padding:10px;">操作</th>
                        </tr>
                    </thead>
                    <tbody id="admin-msg-list-body">
                        </tbody>
                </table>
            </div>
        </div>
    </div>

    <footer class="footer">
        <div class="container"><p>&copy; RUSH MOTO Custom Shop. 【3B332062 黃崇穎】</p></div>
    </footer>

    <script src="js/script.js"></script>
</body>
</html>